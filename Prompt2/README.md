# Prompt 2 / Data Prompt 2
## IoT Data Oracle

### Background
With the advancement of technology, the number of energy generation sources is rapidly growing; from utility scale wind and solar farms, to commercial, industrial and residential households being able to generate their own electricity using solar PV and increasingly battery storage too. Given such distributed energy resources (DER) centralized tracking of generation and clearance is no longer feasible at scale. At the same time, new technological developments in Blockchain, IoT, remote sensing (such as satellites) and Data Science create the opportunity to achieve consensus, tracking and transparency on the amount of electricity generated and emissions avoided by DER, which is the necessary foundation for trading energy and Renewable Energy Credits from DER, as well as many other applications such as carbon offset tracking.

### Challenge
Create a Data Validation Oracle, for reaching a consensus on the ‘true’ or statistically wighted amount of energy generated by a distributed energy resource, such as rooftop solar. This could include a combination of IoT, environmental, remote sensing and benchmark data to create the most robust mechanism to evaluate data streams, create device reputation scores, detect anomalies and ultimately output a consensus result. Possible approach to use machine learning and other advanced anomaly detection algorithms.

Here is a potential list of components and steps you might take in approaching this challenge.
Feel free to do only parts of it, work together with other teams to bring together different parts or do a completely different approach altogether. Document findings and ideas along the way, as these are just as valuable as your final code (for example any data you would ideally need to best solve this - even if you couldn’t find it).

Data input:
- Think about what Data you would ideally need
- Assess the data feeds available
- Find additional data feeds

Data pipeline:
- Build a pipeline that brings together all data feeds into a central database and can handle the data in real time
- Structure your data & storage in a way that makes it easy to connect data of different time and geographic resolutions to your assets/analysis and is efficient

Data Analysis:
- Consider what your final output will be. Will it be a single number of kWh electricity generated? Or will it have additional attributes like a confidence score? Or will it be probability distribution?
- What is the timescale of the data inputs you have? (E.g. if you only get solar irradiance data in 10 minute intervals, but panel output data in 1 minute intervals, you might need ‘wait’ until the irradiance data comes in before making any analysis)
- Build the mathematical calculation logic. How do you validate the data from the local output meter on the panel?
- Process data as soon as possible

Data output
- Create an output data feed that should be the ‘actual generation’
- This can be a single number or an object with multiple characteristics as per 3.a


## Data Source:

[Linked](TODO: Add direct link here) is data from three solar arrays installed at the NIST campus in Maryland. The installations are of three different types - one is ground mounted, one is planted on a parking lot canopy and the other is a rooftop array. Participants are required to take the ground mounted array as the primary reference and use the other two as nearby reference sites while designing the oracle. The coordinates for the primary reference point are: `39°07'54.6"N 77°12'51.3"W`.

### About

The data consists of solar energy generation parameters in 1 minute intervals during the period starting from January 1, 2017 to December 31, 2017. For information on all the technical terms referred to in the dataset, participants are encouraged to look at the [attached pdf](https://www.nist.gov/sites/default/files/documents/2017/10/04/datadictionary_supplementalcontent.pdf).

Relevant info for this prompt is expanded upon below:

#### Solar Generation
- `InvPAC_kW_Avg`: This is the solar AC measured in the output of the inverter.  
- `InvPDC_kW_Avg`: This is the solar DC measured in the input to the inverter. ( the difference are losses, but this is for reference since we can just use the AC as a standard).
- `PwrMtrP_kW_Avg`: This is the solar AC measured by the grid-tied meter. Its a second source of IoT data from the same site to compare with the inverter

#### Solar Irradiance

This comes from the Weather Station (WS1 or 2), and should be taken from either of the `PyraX_mV` data since it corresponds with the pyrometer. Same is available from the `AnalogAndSerial` table corresponding to the Ground PV dataset

Other relevant info is Ambient temperature `Amp_TempC`.

### Anomalies

Sometimes the data that is received from the receiver installed on site might be erroneous. Sudden spikes in energy generation, energy generation above the installed capacity are some of the anomalies that may occur as part of the process. In the dataset above, there are some readings that are similar as well. Participants are required to filter out these observations while building the oracle. Building heuristics which could help in this process are also highly appreciated.
